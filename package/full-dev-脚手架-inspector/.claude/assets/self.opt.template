# Agent 自优化日志 - self.opt

<!--
  WHAT: AI 自身的进化记录，提取关键偏差→落盘解决策略
  WHY: 不是记录所有错误，而是记录 AI 需要「刻意记住」才能避免的关键模式
  WHEN: 当出现「根本性偏差」或「非平凡解决策略」时记录
  WHO: AI 自己看的，用于自我改进
-->

> **核心原则**：不记流水账，只记「下次再犯概率高」或「解决策略精妙」的关键模式

---

## 项目信息

- **项目**：{{PROJECT_NAME}}
- **启动**：{{DATE}}
- **技术栈**：[填写]

### 快速命令

```bash
pytest tests/ -v
python -m app.main
```

---

## 🧠 关键偏差模式（Critical Deviation Patterns）

<!--
  记录标准：以下条件满足一个就记录
  1. 花了 >3 次尝试才解决（说明初始直觉错误）
  2. 解决策略是「反直觉」或「跨领域迁移」的
  3. 这个错误在类似场景下「大概率会再犯」
  4. 导致显著时间浪费（>20分钟）的认知偏差

  格式：偏差描述→根因→解决策略→预防触发器
-->

### CDP-001: [偏差简称]

- **日期**：YYYY-MM-DD
- **偏差描述**：AI 最初的错误判断是什么
- **根因分析**：为什么会这样判断（认知偏差、上下文盲区、过度泛化等）
- **解决策略**：关键的解决思路（一句话核心）
- **策略细节**：具体如何执行的
- **预防触发器**：什么信号出现时应该警惕
  - [ ] 信号1: xxx
  - [ ] 信号2: xxx
- **关联场景**：哪些类似场景容易触发
- **关键词**：#标签 #便于搜索

---

## 🎯 核心解决策略库（Core Resolution Strategies）

<!--
  提取标准：
  1. 策略可以跨项目复用
  2. 策略是「方法论」而非「具体命令」
  3. 策略有明确的适用边界

  格式：策略名称→适用条件→核心逻辑→验证方式
-->

### CRS-001: [策略名称]

- **策略一句话**：核心思路
- **适用条件**：什么时候用这个策略
- **不适用条件**：什么时候不能用
- **核心逻辑**：
  1. 步骤1
  2. 步骤2
  3. 步骤3
- **验证方式**：怎么确认策略生效了
- **来源**：从哪个具体错误提炼的
- **复用次数**：[更新每次使用]

---

## 🔍 认知盲区档案（Cognitive Blind Spots）

<!--
  记录 AI 自身在特定场景下容易忽略的点
  不是错误，而是「看不见」
-->

### CBS-001: [盲区名称]

- **盲区描述**：AI 容易忽略什么
- **典型场景**：在什么情况下会出现
- **检测方法**：怎么发现自己进入了盲区
- **纠正动作**：发现后应该做什么

---

## 📊 效率法则（Efficiency Laws）

<!--
  经过验证的「最佳实践」，可以显著提升开发效率
  不是通用的（如"写测试"），而是具体的（如"先读配置再写代码"）
-->

### Law-001: [法则名称]

- **法则内容**：具体怎么做
- **违反代价**：不遵守会浪费多少时间/导致什么问题
- **验证记录**：什么时候验证过有效
- **例外情况**：什么时候可以打破

---

## 🧪 假设验证记录（Hypothesis Validation）

<!--
  记录 AI 做过的假设及其验证结果
  避免重复做同样的假设
-->

| 假设 | 场景 | 验证结果 | 日期 | 置信度 |
|------|------|----------|------|--------|
| xxx | xxx | ✓/✗ | YYYY-MM-DD | 高/中/低 |

---

## 📝 记录决策树（Record Decision Tree）

<!--
  帮助 AI 判断「这个错误值不值得记录」
-->

```
遇到错误/偏差时：
  ├─ 是否是「一般性错误」？（如语法错误、拼写错误）
  │  └─ 是 → 不记录（AI 自身能避免）
  │
  ├─ 是否是「领域特定但一次性」的错误？
  │  └─ 是 → 简要记录在 PROGRESS-LOG.md 即可
  │
  ├─ 是否是「关键偏差」？
  │  ├─ 花了 >3 次尝试？
  │  ├─ 解决策略反直觉？
  │  ├─ 类似场景会再犯？
  │  └─ 导致显著时间浪费？
  │     └─ 任一满足 → 记录到「关键偏差模式」
  │
  └─ 是否提炼出了「可复用策略」？
     └─ 是 → 记录到「核心解决策略库」
```

---

## 🏷️ 快速索引

<!-- 按标签分类，便于快速检索 -->

### 按标签
- #配置 #架构 #测试 #调试 #性能 #安全

### 按频率
- [高频] → 每次开发前回顾
- [中频] → 每周回顾
- [低频] → 需要时搜索

---

**更新原则**：
1. **不追求全面** → 追求精准（10个高质量 > 100个低质量）
2. **定期提炼** → 每月回顾，合并相似模式
3. **主动应用** → 每次遇到类似场景，先查 self.opt
4. **演化思维** → 记录的是「AI 的进化」，不是「项目的文档」
