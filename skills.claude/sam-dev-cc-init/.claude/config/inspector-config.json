{
  "version": "1.0",
  "description": "Inspector Agent 配置 - 可根据团队实际情况调整",
  
  "token_budget_presets": {
    "description": "预设的 Token 预算模板，选择一个或自定义",
    
    "conservative": {
      "name": "保守型 (小规模项目)",
      "strict": 2000,
      "standard": 5000,
      "generous": 10000,
      "trust": null,
      "notes": "适合简单任务、学习型项目"
    },
    
    "standard": {
      "name": "标准型 (中等复杂度)",
      "strict": 3000,
      "standard": 8000,
      "generous": 15000,
      "trust": null,
      "notes": "适合常规开发、分析任务"
    },
    
    "aggressive": {
      "name": "激进型 (复杂项目)",
      "strict": 5000,
      "standard": 15000,
      "generous": 30000,
      "trust": null,
      "notes": "适合大型重构、深度分析、复杂设计"
    },
    
    "unlimited": {
      "name": "不限型 (自主型团队)",
      "strict": 10000,
      "standard": null,
      "generous": null,
      "trust": null,
      "notes": "Trust Agent 无上限，仅记录实际消耗用于趋势分析"
    },
    
    "custom": {
      "name": "自定义型",
      "strict": 4000,
      "standard": 10000,
      "generous": 20000,
      "trust": null,
      "notes": "按你的需求修改上面的数字"
    }
  },
  
  "current_preset": "standard",
  "comment_preset": "修改为: conservative / standard / aggressive / unlimited / custom",
  
  "token_budget_rules": {
    "description": "Token 预算的升降规则",
    
    "upgrade_requirements": {
      "standard_to_generous": {
        "condition": "连续 N 次 A 级",
        "default": 3,
        "configurable": true,
        "comment": "改为 2 加速升级，改为 5 降速升级"
      },
      "generous_to_trust": {
        "condition": "连续 N 次 A 级 (从 generous 开始计数)",
        "default": 5,
        "configurable": true,
        "comment": "改为 3 加速升级，改为 7 降速升级"
      }
    },
    
    "downgrade_triggers": {
      "any_to_strict": {
        "condition": "1 次 D 级或连续 3 次 C 级",
        "configurable": true
      },
      "any_to_standard": {
        "condition": "1 次 C 级",
        "configurable": true
      }
    },
    
    "cooldown_period": {
      "after_downgrade": 3,
      "unit": "tasks",
      "configurable": true,
      "comment": "降级后 N 次任务内不能申请升级"
    }
  },
  
  "agent_type_adjustments": {
    "description": "不同类型 Agent 的预算调整系数 (乘数)",
    "comment": "例如：Programming Agent 的 standard = 8000 * 1.0，Analysis Agent = 8000 * 1.2",
    
    "programming": {
      "multiplier": 1.0,
      "notes": "Frontend/Backend/Tester - 标准系数"
    },
    
    "analysis": {
      "multiplier": 1.2,
      "notes": "Researcher/Analyst - 需要更多 Token 用于分析"
    },
    
    "design": {
      "multiplier": 1.1,
      "notes": "UX/Architect - 比编程略高"
    },
    
    "research": {
      "multiplier": 1.3,
      "notes": "深度研究 - 需要显著更多 Token"
    }
  },
  
  "dynamic_adjustment": {
    "description": "基于实际使用的动态调整建议",
    "enabled": true,
    "comment": "系统会根据实际 Token 消耗提示是否应该调整预算",
    
    "analyze_period": "weekly",
    "unit": "tasks",
    "trigger_threshold": 0.85,
    "comment": "当平均使用率 > 85% 时，提议增加预算"
  },
  
  "approval_workflow": {
    "description": "超预算处理流程",
    
    "exceed_soft_limit": {
      "limit_percentage": 0.9,
      "action": "warning",
      "message": "接近预算上限（90%），请准备结束",
      "example": "实际消耗 7.2k / 8k"
    },
    
    "exceed_hard_limit": {
      "limit_percentage": 1.0,
      "action": "stop_and_report",
      "message": "Token 预算已耗尽，必须汇报完成状态",
      "example": "实际消耗 8k / 8k，立即停止"
    },
    
    "request_additional": {
      "enabled": true,
      "approval_required": false,
      "comment": "Agent 可以申请追加预算，不需要人工批准（Trust level 除外）",
      "additional_budget": "auto",
      "additional_amount_percent": 0.5,
      "additional_max_count": 2,
      "comment_additional": "一次最多追加 50% 的初始预算，一个任务最多追加 2 次"
    }
  },
  
  "points_system": {
    "description": "积分系统配置",
    
    "rewards": {
      "A_grade": 15,
      "B_grade": 7,
      "token_estimation_accurate": 5,
      "self_opt_entry": 3,
      "checkfix_first_pass": 10,
      "comment": "可根据重视程度调整各项权重"
    },
    
    "penalties": {
      "C_grade": -20,
      "D_grade": -50,
      "skip_checkfix": -50,
      "token_estimation_severe": -10,
      "production_bug": -30,
      "comment": "惩罚的严厉程度可根据团队文化调整"
    },
    
    "point_levels": {
      "red": { "min": 0, "max": 50 },
      "yellow": { "min": 51, "max": 100 },
      "green": { "min": 101, "max": 150 },
      "gold": { "min": 151, "max": null },
      "comment": "修改阈值调整级别划分"
    }
  },
  
  "quality_checkpoints": {
    "description": "质量检查点，不同角色可以有不同的检查项",
    
    "programming": [
      "code_style",
      "type_checking",
      "security",
      "performance",
      "dependencies",
      "documentation",
      "logging",
      "error_handling"
    ],
    
    "analysis": [
      "data_accuracy",
      "methodology",
      "source_verification",
      "conclusion_validity",
      "documentation",
      "reproducibility"
    ],
    
    "design": [
      "consistency",
      "accessibility",
      "usability",
      "visual_hierarchy",
      "performance",
      "documentation"
    ],
    
    "comment": "CHECKFIX 检查项数量和内容可自定义"
  },
  
  "feedback_customization": {
    "enabled": true,
    "comment": "是否启用自定义反馈风格（严格/友好/激励等）",
    
    "tone": "neutral",
    "options": ["strict", "neutral", "encouraging"],
    "comment_tone": "改为 strict 更严肃，encouraging 更鼓励"
  },
  
  "reporting": {
    "enabled": true,
    "frequency": "weekly",
    "include_metrics": [
      "agent_grades",
      "token_efficiency",
      "quality_trends",
      "risk_alerts",
      "team_averages",
      "individual_comparisons"
    ]
  },
  
  "notes": {
    "general": "这个配置文件定义了 Inspector Agent 的所有参数。你可以根据团队的实际情况调整。",
    "token_budgets": "如果你的任务通常比较复杂，建议使用 'aggressive' 预设或自定义更高的值。",
    "dynamic_adjustment": "启用动态调整后，系统会根据实际 Token 消耗自动建议是否增加预算。",
    "approval": "默认 Agent 可以自己申请追加预算（不需人工批准），这样不会因为预算卡住。",
    "custom_checkpoints": "根据 Agent 类型定制 CHECKFIX 检查项，避免编程检查项应用到分析任务。"
  }
}
