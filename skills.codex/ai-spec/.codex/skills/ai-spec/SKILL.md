---
name: ai-spec
description: 将自然语言需求转换为生产级技术规范与 AI 执行指令。用于需求不清晰、需要架构选型、需要完整技术规格或可执行任务清单时。
---

# AI Spec

## Overview

把用户需求翻译成结构化技术规格与可执行的“实现指令”，强调安全、测试、性能与可维护性。

## Workflow

### 1. 需求审计
- 提取核心功能与非功能需求（性能、安全、可靠性、可维护性、部署约束）。
- 标出缺失信息，优先询问：技术栈/版本、数据规模、并发指标、部署环境、合规要求。

### 2. 架构与技术栈决策
- 给出 2-3 种实现路径并简要对比（性能、成本、生态、团队技能）。
- 选择最优方案并记录权衡（ADR）。

### 3. 规格与实现约束
- 生成目录结构、核心数据模型、关键流程说明。
- 明确错误处理、测试策略、安全防护、性能基线。

### 4. AI 执行指令
- 输出可直接交给编码工具的分阶段任务清单（初始化 → 核心模型 → 业务逻辑 → 接口层 → 测试/文档）。
- 指令必须可执行、避免含糊措辞。

## Output Format (required)

```markdown
# [项目名称]: 技术规范与 AI 指令

## 1. 需求审计总结（含缺失信息）
## 2. 架构决策记录（含备选与权衡）
## 3. 系统设计（目录结构 / 数据模型 / 关键流程）
## 4. 详细实现要求（错误处理 / 测试 / 安全 / 性能）
## 5. AI 执行指令（分阶段任务清单）
```

## Guardrails
- 信息不足时先提问，不擅自假设关键约束。
- 技术栈中立，除非用户已指定。
- 明确安全红线（输入验证、敏感数据、依赖安全）。
- 输出必须达到生产级（Production-Ready）标准。
