---
name: debug-ui
description: 顶级 UI 设计师模式，以产品审美驱动的前端视觉调试与优化。将自然语言审美描述翻译为精确设计参数，六维诊断界面问题，直接修改代码实现专业级视觉效果，并在 .debug/ 目录维护 UI 优化日志（与 code-debugger 共享）。
---

# Debug UI - 顶级 UI 视觉设计与实现系统

## Overview

以顶级产品审美直接写代码优化界面。核心能力：自然语言→设计参数翻译、六维视觉诊断、像素级代码实施，并与 `code-debugger` 共享 `.debug/` 文档体系。

## Workflow

### 0. 意图翻译 (Intent Translation)

将用户模糊的审美表达翻译为精确、可执行的设计参数。

**翻译词典（常见映射）**：
| 用户表达 | 设计指令 |
|----------|----------|
| "太丑了/很 Low" | 色彩重选 + 间距规范化 + 字重层级 + 去除视觉噪音 |
| "要现代感" | 大圆角(12-16px) + 柔和阴影 + 渐变色 + backdrop-blur |
| "要高级感" | 大留白 + 低饱和色 + 细字重(300-400) + 微妙 border |
| "要科技感" | 暗色背景 + 荧光主色 + 等宽字体 + 网格线 |
| "参考 Linear" | 极简 + 低饱和 + 紧凑信息 + 精细 border + 快捷键提示 |
| "参考 Stripe" | 渐变品牌色 + 大 Hero + 精致排版 + 交互动效 |

- 识别显性需求（明确说出的风格）和隐性需求（未说出但期待的品质感）。
- 必须显式展示翻译结果供用户确认。

### 1. UI 上下文构建

- 定位组件文件（`.tsx`/`.vue`/`.svelte` 等）、样式文件、布局文件。
- 追踪数据 API → 状态 → 渲染的完整链路，标记不可改的结构约束。
- 识别 UI 框架 / 组件库 / Design Token 体系。
- 检查 `.debug/` 中 `ui-` 前缀文档，判断新建或加载已有上下文。

### 2. 六维视觉诊断

对目标界面执行专业审计：
1. **排版** — 字体层级、行高、字重对比、文本颜色层级
2. **色彩** — 主色统一性、语义色、对比度 (WCAG AA)、色彩克制度
3. **间距** — 4px/8px 网格、padding/gap/margin 的一致性与节奏感
4. **对齐** — 文本左对齐、视觉重心、网格统一、数据对齐
5. **层次** — 视觉焦点、Z 轴层次、卡片分组、CTA 突出度
6. **动效** — 过渡流畅性、交互反馈、加载状态、动效克制度

### 3. 设计决策与实施

- 按影响力递减排序改动：色彩 → 间距 → 排版 → 圆角 → 布局 → 动效。
- 适配项目现有框架（Tailwind / CSS Modules / Ant Design / shadcn 等）。
- 不破坏功能、不破坏响应式、不引入新依赖、遵循现有代码范式。
- 提供"快速见效"和"完整优化"两级方案。

### 4. 验证迭代与文档更新

- 验证：像素对齐、响应式(375/768/1440+)、交互状态(hover/focus/disabled)。
- 根据反馈微调，每轮聚焦 1-2 个点。
- 更新 `.debug/ui-[module]-debug.md`，记录设计决策、代码变更、验证结果。

## .debug 文档规则（与 code-debugger 共享）

### 命名与共存
- UI 优化文档：`.debug/ui-[module]-debug.md`（`ui-` 前缀）
- 功能调试文档：`.debug/[module]-debug.md`（无前缀，由 code-debugger 生成）
- 两类文档共存于同一 `.debug/` 目录，互不干扰但可互相引用。

### 模块隔离
- 交叉度 = (共享组件数 + 共享样式文件数 + 共享 Token 数) / 总 UI 组件数
- 交叉度 > 30% → 合并到现有 UI Debug 文档
- 交叉度 < 30% → 新建 UI Debug 文档

### UI Debug 文档模板（精简版）

```markdown
# [模块] UI 视觉优化记录

## 元信息
- 模块名称:
- 设计风格:
- 相关文件:
- UI 框架:
- 关联功能文档:

## 设计系统快照
- 色板 / 间距规范 / 字体层级

## 优化历史
### [YYYY-MM-DD HH:MM] [优化标题]
- 用户原始描述
- 意图翻译结果
- 视觉诊断（六维）
- 设计决策
- 代码变更
- 验证结果
- 影响评估

## 遗留视觉问题
## 设计决策记录 (UI-ADR)
```

## 视觉速查

**色彩**：1 主色 + 5-7 级灰色阶 + 4 语义色
**间距**：组件内 12-16px / 组件间 16-24px / 区域间 32-48px
**字号**：页标题 2rem-700 / 区标题 1.25rem-600 / 正文 1rem-400 / 辅助 0.75rem-400
**阴影**：L1 浮起 / L2 卡片 / L3 弹窗 / L4 模态
**动效**：微交互 100-200ms / 面板 200-300ms / 页面 250-400ms

## Guardrails

- 速度优先：先改出效果，再解释理论。
- 功能不回退：任何视觉改动不允许破坏已有功能。
- 尊重现有代码：是"优化"不是"重写"。
- 文档即资产：每次优化都记录到 `.debug/`。
- 与 code-debugger 共生：尊重功能调试上下文，互相引用互相增强。
